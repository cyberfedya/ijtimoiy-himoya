<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Murojaat holatini tekshirish</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --green: #10b981;
            --yellow: #f59e0b;
            --red: #ef4444;
            --gray: #64748b;
            --border: #e2e8f0;
            --light: #f8fafc;
            --bg: #f9fafb;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: #1e293b;
            min-height: 100vh;
            padding: 40px 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        .header h1 { font-size: 32px; margin-bottom: 12px; }
        .header p { font-size: 18px; opacity: 0.9; }

        .search-box {
            padding: 40px 30px;
            text-align: center;
        }
        .input-group {
            display: flex; max-width: 520px; margin: 0 auto; gap: 12px;
        }
        #regNumber {
            flex: 1;
            padding: 16px 20px;
            font-size: 18px;
            border: 2px solid var(--border);
            border-radius: 16px;
            outline: none;
            transition: all 0.3s;
        }
        #regNumber:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99,102,241,0.15);
        }
        .btn-check {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0 32px;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
        }
        .btn-check:hover { background: #4f46e5; transform: translateY(-2px); }

        .result {
            padding: 0 30px 40px;
            display: none;
        }
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 24px;
        }
        .status-pending { background: #fef3c7; color: #92400e; }
        .status-inprogress { background: #dbeafe; color: #1d4ed8; }
        .status-resolved { background: #d1fae5; color: #065f46; }
        .status-rejected { background: #fee2e2; color: #991b1b; }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .info-card {
            background: var(--light);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid var(--border);
        }
        .info-card h3 { color: var(--gray); font-size: 14px; margin-bottom: 8px; }
        .info-card p { font-size: 18px; font-weight: 600; }

        .timeline {
            margin-top: 40px;
        }
        .timeline h3 { margin-bottom: 20px; font-size: 20px; }
        .timeline-item {
            display: flex;
            gap: 16px;
            padding: 16px 0;
            border-left: 3px solid var(--border);
            padding-left: 20px;
            position: relative;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -9px;
            top: 20px;
            width: 14px;
            height: 14px;
            background: var(--primary);
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 0 0 3px var(--primary);
        }
        .timeline-date { color: var(--gray); min-width: 140px; }
        .timeline-content h4 { font-weight: 600; }
        .timeline-content p { color: var(--gray); font-size: 14px; margin-top: 4px; }

        .no-result {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
            display: none;
        }
        .no-result h2 { margin-bottom: 16px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Murojaat holatini tekshirish</h1>
        <p>Ro'yxatga olingan murojaatingizning joriy holatini bilib oling</p>
    </div>
    
    <div style="display: flex; justify-content: center; gap: 1rem; padding: 1rem; background: white; border-bottom: 1px solid var(--border);">
        <a href="navigation.html" style="padding: 0.5rem 1rem; background: #667eea; color: white; text-decoration: none; border-radius: 8px; font-weight: 600;">üìë –ù–∞–≤–∏–≥–∞—Ü–∏—è</a>
        <a href="landing.html" style="padding: 0.5rem 1rem; background: #f1f5f9; color: #334155; text-decoration: none; border-radius: 8px; font-weight: 500;">‚Üê Asosiy sahifa</a>
        <a href="home.html" style="padding: 0.5rem 1rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; text-decoration: none; border-radius: 8px; font-weight: 500;">Dashboard</a>
        <a href="client.html" style="padding: 0.5rem 1rem; background: #10b981; color: white; text-decoration: none; border-radius: 8px; font-weight: 500;">Murojaat yuborish</a>
    </div>

    <div class="search-box">
        <div class="input-group">
            <input type="text" id="regNumber" placeholder="Masalan: 2025-001234" maxlength="15">
            <button class="btn-check" onclick="checkStatus()">Tekshirish</button>
        </div>
    </div>

    <div id="result" class="result">
        <div class="status-badge" id="statusBadge">
            <span id="statusText">Ijroda</span>
        </div>

        <div class="info-grid">
            <div class="info-card">
                <h3>Reg. raqami</h3>
                <p id="regNum">-</p>
            </div>
            <div class="info-card">
                <h3>Ro‚Äòyxatga olingan sana</h3>
                <p id="regDate">-</p>
            </div>
            <div class="info-card">
                <h3>Mas‚Äôul bo‚Äòlim</h3>
                <p id="department">-</p>
            </div>
            <div class="info-card">
                <h3>Mas‚Äôul xodim</h3>
                <p id="executor">-</p>
            </div>
        </div>

        <h2 style="margin: 40px 0 20px; font-size: 22px;">Murojaat mazmuni</h2>
        <p id="description" style="background:#f8fafc; padding:20px; border-radius:16px; line-height:1.6;">
            ‚Äì
        </p>

        <div class="timeline">
            <h3>Status tarixi</h3>
            <div id="timelineContainer"></div>
        </div>
    </div>

    <div id="noResult" class="no-result">
        <h2>Murojaat topilmadi</h2>
        <p>Iltimos, registratsiya raqamini to‚Äòg‚Äòri kiritganingizni tekshiring.</p>
    </div>
</div>

<script>
    // 20+ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –º–æ–∫-–¥–∞–Ω–Ω—ã—Ö
    const appealsDB = {
        "2025-001234": { status: "inprogress", regDate: "15.03.2025", department: "Chilonzor tumani hokimligi", executor: "A. Karimov", description: "Chilonzor ko‚Äòchasi, 45-uy yonida yo‚Äòl qoplamasi buzilgan, chuqur hosil bo‚Äòlgan.", timeline: [
            { date: "15.03.2025 14:32", status: "Qabul qilindi", comment: "Murojaat ro‚Äòyxatga olindi" },
            { date: "16.03.2025 09:15", status: "Ijroda", comment: "Yo‚Äòl ta‚Äômirlash korxonasiga yuborildi" },
            { date: "17.03.2025 16:20", status: "Ijroda", comment: "Ta‚Äômirlash ishlari boshlandi" }
        ]},
        "2025-000987": { status: "resolved", regDate: "10.03.2025", department: "Toshkent shahar elektr tarmoqlari", executor: "S. Xojiyev", description: "Yunusobod tumani, Ahmad Donish ko‚Äòchasida elektr uzilishi tez-tez sodir bo‚Äòlmoqda.", timeline: [
            { date: "10.03.2025", status: "Qabul qilindi", comment: "" },
            { date: "11.03.2025", status: "Ijroda", comment: "Transformator tekshirildi" },
            { date: "12.03.2025", status: "Hal qilindi", comment: "Nosozlik bartaraf etildi" }
        ]},
        "2025-002156": { status: "pending", regDate: "16.03.2025", department: "Olmazor tumani hokimligi", executor: "M. Sobirova", description: "Maktab oldidagi svetofor ishlamayapti, bolalar xavf ostida.", timeline: [
            { date: "16.03.2025 11:20", status: "Qabul qilindi", comment: "Ro‚Äòyxatga olindi" }
        ]},
        "2025-003421": { status: "rejected", regDate: "12.03.2025", department: "Suv ta‚Äôminoti boshqarmasi", executor: "J. To‚Äòrayev", description: "Uyga suv kelmayapti 3 kundan beri.", timeline: [
            { date: "12.03.2025", status: "Qabul qilindi", comment: "" },
            { date: "13.03.2025", status: "Rad etildi", comment: "Murojaat noto‚Äòg‚Äòri manzilga yuborilgan. To‚Äòg‚Äòri manzil: suv.uz" }
        ]},
        "2025-004512": { status: "inprogress", regDate: "14.03.2025", department: "Yashnobod tumani hokimligi", executor: "D. Usmonova", description: "Bog‚Äòcha oldida chiqindi to‚Äòplanib qolgan, hid tarqalmoqda.", timeline: [
            { date: "14.03.2025", status: "Qabul qilindi", comment: "" },
            { date: "15.03.2025", status: "Ijroda", comment: "Maxsus texnika yuborildi" }
        ]},
        "2025-005678": { status: "resolved", regDate: "08.03.2025", department: "Andijon viloyati hokimligi", executor: "O. Rahimov", description: "Qishloq yo‚Äòli loy bo‚Äòlib qolgan, mashina o‚Äòtmayapti.", timeline: [
            { date: "08.03.2025", status: "Qabul qilindi", comment: "" },
            { date: "10.03.2025", status: "Hal qilindi", comment: "Yo‚Äòl shag‚Äòallandi" }
        ]},
        "2025-006789": { status: "inprogress", regDate: "17.03.2025", department: "Samarqand shahar hokimligi", executor: "N. Ismoilova", description: "Avtobus bekatida o‚Äòtiradigan joy yo‚Äòq, keksalar qiynalmoqda.", timeline: [
            { date: "17.03.2025 10:15", status: "Qabul qilindi", comment: "Ro‚Äòyxatga olindi" },
            { date: "17.03.2025 14:30", status: "Ijroda", comment: "Loyiha tayyorlanmoqda" }
        ]},
        "2025-007890": { status: "pending", regDate: "17.03.2025", department: "Farg‚Äòona viloyati hokimligi", executor: "B. To‚Äòxtayev", description: "Maktabda internet yo‚Äòq, darslar to‚Äòxtab qolmoqda.", timeline: [
            { date: "17.03.2025 13:45", status: "Qabul qilindi", comment: "Ro‚Äòyxatga olindi" }
        ]},
        "2025-008901": { status: "resolved", regDate: "05.03.2025", department: "Buxoro viloyati hokimligi", executor: "G. Qodirova", description: "Ko‚Äòchada chiroqlar yonmayapti, kechasi qorong‚Äòi.", timeline: [
            { date: "05.03.2025", status: "Qabul qilindi", comment: "" },
            { date: "07.03.2025", status: "Hal qilindi", comment: "Lampalar almashtirildi" }
        ]},
        "2025-009123": { status: "inprogress", regDate: "16.03.2025", department: "Qashqadaryo viloyati hokimligi", executor: "R. Jumaniyozov", description: "Ichimlik suvi sifati yomonlashgan, hid bor.", timeline: [
            { date: "16.03.2025", status: "Qabul qilindi", comment: "" },
            { date: "17.03.2025", status: "Ijroda", comment: "Namunalar laboratoriyaga yuborildi" }
        ]}
        // Qo‚Äòshimcha murojaatlar qo‚Äòshib ketsangiz bo‚Äòladi
    };

    const statusMap = {
        pending: { text: "Ko‚Äòrib chiqilmoqda", class: "status-pending" },
        inprogress: { text: "Ijroda", class: "status-inprogress" },
        resolved: { text: "Hal qilindi", class: "status-resolved" },
        rejected: { text: "Rad etildi", class: "status-rejected" }
    };

    function checkStatus() {
        const input = document.getElementById('regNumber').value.trim();
        const result = document.getElementById('result');
        const noResult = document.getElementById('noResult');

        if (!input) {
            alert("Iltimos, murojaat raqamini kiriting!");
            return;
        }

        setTimeout(() => {
            const appeal = appealsDB[input];

            if (appeal) {
                noResult.style.display = 'none';
                result.style.display = 'block';

                document.getElementById('regNum').textContent = input;
                document.getElementById('regDate').textContent = appeal.regDate;
                document.getElementById('department').textContent = appeal.department;
                document.getElementById('executor').textContent = appeal.executor;
                document.getElementById('description').textContent = appeal.description;

                const badge = document.getElementById('statusBadge');
                const statusInfo = statusMap[appeal.status] || statusMap.inprogress;
                badge.className = `status-badge ${statusInfo.class}`;
                document.getElementById('statusText').textContent = statusInfo.text;

                const timelineContainer = document.getElementById('timelineContainer');
                timelineContainer.innerHTML = '';
                appeal.timeline.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'timeline-item';
                    div.innerHTML = `
                        <div class="timeline-date">${item.date}</div>
                        <div class="timeline-content">
                            <h4>${item.status}</h4>
                            ${item.comment ? `<p>${item.comment}</p>` : ''}
                        </div>
                    `;
                    timelineContainer.appendChild(div);
                });
            } else {
                result.style.display = 'none';
                noResult.style.display = 'block';
            }
        }, 800);
    }

    document.getElementById('regNumber').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') checkStatus();
    });
</script>

</body>
</html>